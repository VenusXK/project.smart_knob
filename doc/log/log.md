
- [day1 2023年6月26日](#day1-2023年6月26日)
- [day2 2023年6月27日 听课](#day2-2023年6月27日-听课)
- [day3 2023年6月28日 了解项目](#day3-2023年6月28日-了解项目)
- [day4 2023年6月29日 了解项目](#day4-2023年6月29日-了解项目)
- [day5 2023年6月30日 绘制原理图x1](#day5-2023年6月30日-绘制原理图x1)
- [day6 2023年7月1日 绘制原理图x2](#day6-2023年7月1日-绘制原理图x2)
- [day7 2023年7月2日 设计PCBx1](#day7-2023年7月2日-设计pcbx1)
- [day8 2023年7月3日 设计PCBx2](#day8-2023年7月3日-设计pcbx2)
- [day9 2023年7月4日 设计PCBx3](#day9-2023年7月4日-设计pcbx3)
- [day10 2023年7月5日 设计PCBx4](#day10-2023年7月5日-设计pcbx4)
- [day11 2023年7月6日 设计PCBx5+打样](#day11-2023年7月6日-设计pcbx5打样)
- [day12 2023年7月7日](#day12-2023年7月7日)
- [day13 2023年7月8日](#day13-2023年7月8日)
- [day14 2023年7月9日](#day14-2023年7月9日)

### day1 2023年6月26日

- 课程选择
- 初步构想

### day2 2023年6月27日 听课

- 听课

### day3 2023年6月28日 了解项目

### day4 2023年6月29日 了解项目

- 了解电机的基础知识
  - 通过网络查阅了无感无刷电机、有感无刷电机、有刷电机等知识，学习了此类电机的内部结构，掌握了电机的基础知识。
- 了解无感无刷电机的角度控制
  - 通过差分霍尔磁性角度传感器可对内部磁场进行感知，并通过信号掌握电机的转动角度。
- 了解项目大致需要的硬件
  - 通过对开源项目进行分析，清除了项目需要的硬件，包括电机驱动器TMC6300、电磁编码器MT6701、发光管SK6812SIDE-A、压力传感器HX711及其对应的应变片BF350-3AA、环形LCD屏幕和亮度传感器VEML7700等。
- 了解该项目的大致流程
  - 通过对开源项目的分析，了解了该项目的大致流程，包括电机驱动、电机角度控制、LCD屏幕显示、亮度传感器控制、压力传感器控制等。
- 掌握了 `Altium Desinger` 软件的基本操作
  - 学习了如何初始化 `SCHLibrary`，了解了如何在元件库中添加元件和插入管脚。之后了解了如何在原理图中导入元件库中的元件，并进行元件连接、文本添加和线条分割等操作。之后通过添加导线、电源和地线，从元件库中导入电阻、电容和三极管等操作，依次绘制了若干元件的原理图

### day5 2023年6月30日 绘制原理图x1

- 了解BLDC驱动方式
- 掌握了 `Altium Desinger` 软件的快捷键
- 绘制了霍尔传感器 MT6701 电路的原理图
- 绘制了电机驱动 TMC6300 电路的原理图
- 学习了压力传感器 HX711 的原理，并绘制原理图
- 学习了LED灯带 SK6812SIDE-A 的使用方法，并绘制原理图
- 学习了稳压器的相关内容，并绘制原理图
- 粗略学习了 USB 转串口芯片 CH340 的大致内容
  - CH340 是一个 USB 总线的转接芯片，实现 USB 转串口或者 USB 转打印口，未进行深入理解和原理图绘制。

### day6 2023年7月1日 绘制原理图x2

- 学习了 USB-C 文档
- 学习了 USB-C 转串口芯片 CH340C 的相关内容
- 学习了单片机串口转USB接口的相关串口通讯内容
- 询问老师实现了烧录接口设计，附加开关
- 学习了环境亮度传感器 VEML7700 的相关内容
- 学习了PCB电路设计的基础方法

### day7 2023年7月2日 设计PCBx1

- 学习 PCB 的元件库设计方法
- 根据元件库设计方法设计 STC89C51 元件库
- 导出立创 EDA 中的元件封装图到 Altium Designer 中
- 学习了如何将 SCH 库中元件与 PCB 库中元件进行关联
- 完善原理图，修改元件编号，增加电源开关，完善主控部分电路
- 尝试导出原理图到 PCB 图中
  - 发现由于其他元件无管脚图，无法导出，继续完善元件管脚图
- 学习了 PCB 板组成和 PCB 板绘制规范
  - 元件 PCB 图由焊盘(紫色->阻焊，防止绿油覆盖)、丝印、管脚序号、1脚标识(焊接正反)和阻焊组成
- 学习了 PCB 板的细节测量方法，和 datasheet 进行比对
  - 焊盘宽度，选取最大值
- 学习了 Altinum Designer 的自动布线功能
  - 通过自动布线功能，可以自动将PCB图中的管脚进行布线

### day8 2023年7月3日 设计PCBx2

- 发现之前的原理图在导出 PCB 图时产生大量的错误，尝试修复错误，发现电容、电阻和电感和部分元件的封装图有问题
- 学习了 PCB 上下两层走线的概念
- PCB 图中电容电阻的封装有问题，将 PCB 图中的电容电阻封装修改为 0805 封装，购买 0805 封装的电容、电阻和电感
- 部分 PCB 图（VEML7700）元件的封装有问题，其无法和 PCB 图中的管脚进行关联，将其封装修改为可关联的封装

### day9 2023年7月4日 设计PCBx3

-  绘制开关按钮的原理图和封装图，加载到USB转TTL串口上
-  参考开源原理图，理解元件与中央 MCU 的交互，查看是否需要修改原理图的 STC89C51 芯片接线，修改原理图
  - 电源电钮 无需复位电钮
  - I2C接口要接单片机的 SDA SCL 接口
  - MT6701 SSI 数据传输
-  绘制晶振电路的原理图和封装图
  - SMD HC-49S 12M 49SMD
-  绘制 TMC6300 的芯片管脚封装图，参照datasheet，反复对照
-  ~~绘制LCD屏幕原理图和封装图，将其加载~~ 用开源的 LCD 驱动板，只绘制 LCD 接线焊盘
-  (待插入) 绘制电机接线 U V W 焊盘
-  绘制 应变片 BF350-3AA 接线焊盘
-  在PCB中布置元器件，并进行自动布线
-  找老师检查原理图和PCB图，若无问题进行打样

### day10 2023年7月5日 设计PCBx4

-  电路复查，检查电容、电阻等元件型号
-  绘制PCB板子形状框架
- 绘制PCB板，布局元件，进行自动布线
  - 自动布线失败，尝试手动布线，查找原因，元件过于密集，局部卡死
- 进行手动布线，发现元件过于密集，无法进行手动布线，尝试修改元件布局，进行手动布线
- 除电机驱动外，其他元件布线完成

### day11 2023年7月6日 设计PCBx5+打样

- 继续进行手动布线，完成电机驱动布线，进行电路复查，检查电容、电阻等元件型号
- 绘制排针原理图和封装图，更新到PCB文件中
- 学习如何铺铜和泪滴，学习相关原理和操作，进行泪滴和铺铜
- 学习PCB元件检查功能的使用，生成未连线的报告，检查发现部分元件未连线，进行修改
- 询问教师得知晶振连接错误，重新修改原理图并对PCB图进行布线
- 询问教师得知复位电路未连接，误认为重启后自动复位不需要接RST，误认为只有手动重启需要接RST接口，修改原理图和PCB图，进行重新接线和PCB映射
- 进行PCB文件的DRC检查，发现部分问题，进行修改
- 在反复检查无问题的情况下，在嘉立创进行打样，选择绿色板子5块，并选择24-48小时加急打印

### day12 2023年7月7日

- 安装Keil5，安装STC-ISP
- 学习《手把手教你学51单片机》单片机最小系统、LED点亮电路、电路基础(去耦电容使用原理、三极管原理、74HC138译码器的使用)
- 学习烧录软件STC-ISP的使用，烧录LED点亮程序
- 实现流水灯程序

### day13 2023年7月8日

- 继续学习《手把手教你学51单片机》，学习单片机的中断系统原理和使用方法，理解并实现相关代码
- 学习数码管的使用，结合中断程序实现数码管计时器
- 尝试使用电流驱动电机旋转
- 学习SSI协议的相关内容，实现SSI协议的接收代码

### day14 2023年7月9日

- 补充购买元件
- 
